<!DOCTYPE html><html class="dark no-js"><head><meta charset="utf-8"><meta content="ie=edge" http-equiv="x-ua-compatible"><meta content="width=device-width,initial-scale=1" name="viewport"><base data-ice="baseUrl" href="../../"><title data-ice="title">Wallkit/Wallkit.js | Wallkit</title><script src="script/search_index.js"></script><link href="css/2f0514c18c642778d627.css" rel="stylesheet"><link rel="stylesheet" href="./inject/css/0-customs-styles.css"><meta name="description" content="Wallkit"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="Wallkit"><meta property="twitter:description" content="Wallkit"></head><body class="layout-container" data-ice="rootContainer"><header class="js_mainHeader main-header"><div class="menu-switch"><a href="#" class="switch js_menuSwitch menu-switch"><span class="icon menu-icon"><svg viewbox="0 0 24 24"><path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"/></svg></span></a></div><nav class="main-nav"><a href="./" class="link link-to-home" style="display: flex; align-items: center;"><img src="./image/brand_logo.png" style="width:34px;"></a><a href="./manual/index.html" class="link link-to-manual" data-ice="manualHeaderLink"><span class="icon link-icon manual-icon"><svg viewbox="0 0 24 24"><path d="M12,3L1,9L12,15L21,10.09V17H23V9M5,13.18V17.18L12,21L19,17.18V13.18L12,17L5,13.18Z"/></svg> </span><span class="link-text">Manual</span> </a><a href="identifiers.html" class="link link-to-reference"><span class="icon link-icon reference-icon"><svg viewbox="0 0 24 24"><path d="M16,6H13V7.9H16C18.26,7.9 20.1,9.73 20.1,12A4.1,4.1 0 0,1 16,16.1H13V18H16A6,6 0 0,0 22,12C22,8.68 19.31,6 16,6M3.9,12C3.9,9.73 5.74,7.9 8,7.9H11V6H8A6,6 0 0,0 2,12A6,6 0 0,0 8,18H11V16.1H8C5.74,16.1 3.9,14.26 3.9,12M8,13H16V11H8V13Z"/></svg> </span><span class="link-text">Reference</span> </a><a href="source.html" class="link link-to-source"><span class="icon link-icon source-icon"><svg viewbox="0 0 24 24"><path d="M8,3A2,2 0 0,0 6,5V9A2,2 0 0,1 4,11H3V13H4A2,2 0 0,1 6,15V19A2,2 0 0,0 8,21H10V19H8V14A2,2 0 0,0 6,12A2,2 0 0,0 8,10V5H10V3M16,3A2,2 0 0,1 18,5V9A2,2 0 0,0 20,11H21V13H20A2,2 0 0,0 18,15V19A2,2 0 0,1 16,21H14V19H16V14A2,2 0 0,1 18,12A2,2 0 0,1 16,10V5H14V3H16Z"/></svg> </span><span class="link-text">Source</span> </a></nav><div class="js_searchBox search-box"><div class="js_searchInputWrapper search-input-wrapper"><span class="icon js_searchIcon search-icon"><svg viewbox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"/></svg> </span><input class="js_searchInput search-input"></div><ul class="hidden js_searchResult search-result"></ul></div><div class="mode-switch"><a href="#" class="switch js_modeSwitch mode-switch"><span class="icon light-dark-icon"><svg viewbox="0 0 24 24"><path d="M7.5,2C5.71,3.15 4.5,5.18 4.5,7.5C4.5,9.82 5.71,11.85 7.53,13C4.46,13 2,10.54 2,7.5A5.5,5.5 0 0,1 7.5,2M19.07,3.5L20.5,4.93L4.93,20.5L3.5,19.07L19.07,3.5M12.89,5.93L11.41,5L9.97,6L10.39,4.3L9,3.24L10.75,3.12L11.33,1.47L12,3.1L13.73,3.13L12.38,4.26L12.89,5.93M9.59,9.54L8.43,8.81L7.31,9.59L7.65,8.27L6.56,7.44L7.92,7.35L8.37,6.06L8.88,7.33L10.24,7.36L9.19,8.23L9.59,9.54M19,13.5A5.5,5.5 0 0,1 13.5,19C12.28,19 11.15,18.6 10.24,17.93L17.93,10.24C18.6,11.15 19,12.28 19,13.5M14.6,20.08L17.37,18.93L17.13,22.28L14.6,20.08M18.93,17.38L20.08,14.61L22.28,17.15L18.93,17.38M20.08,12.42L18.94,9.64L22.28,9.88L20.08,12.42M9.63,18.93L12.4,20.08L9.87,22.27L9.63,18.93Z"/></svg></span></a></div><div class="settings-switch"><a href="#" class="switch js_settingsSwitch settings-switch"><span class="icon settings-icon"><svg viewbox="0 0 24 24"><path d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"/></svg></span></a></div></header><main class="main"><div class="content" data-ice="content"><h1 data-ice="title">Wallkit/Wallkit.js</h1><pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">import Config from &apos;./Config&apos;;
import client from &apos;./WallkitClient&apos;;
import User from &apos;./WallkitUser&apos;;
import Resource from &apos;./WallkitResource&apos;;
import Token from &apos;./WallkitToken&apos;;
import Cookies from &apos;./utils/Cookies&apos;;
import _ from &apos;lodash&apos;;
import Event from &apos;./utils/Events&apos;;

/**
 * Base Class.
 * @public
 */
class Wallkit {
    /**
     * Wallkit Base Class Constructor.
     */
    constructor() {
        /**
         * Shows Wallkit has initialized.
         * @type {boolean}
         */
        this.initialized = false;
    }

    /**
     * Method showing value with Wallkit LOG in console,  if Config.debug enabled.
     *
     * @public
     * @param {string, number} log - string value to show in console
     * @return void
     *
     * @example
     * Wallkit.log(&apos;Some data&apos;); // Wallkit LOG: Some data
     */
    log(log) {
        if (Config.debug) {
            console.log(&quot;Wallkit LOG: &quot;, log);
        }
    }

    /**
     * Method inits Wallkit.
     *
     * @public
     * @param {object} config - config instance
     *
     * @example
     * Wallkit.init({
     *    resource: &quot;3535&quot;,
     *    version: &quot;v1&quot;,
     *    host: &quot;api.dev.wallkit.net&quot;,
     * });
     *
     */
    init({resource, api_url}) {
      if (this.initialized)
          return true;

      Config.resource = resource;

      if(typeof api_url !== &quot;undefined&quot;)
        Config.api_url = api_url;

      /**
      * User information.
      * @type {WallkitUser}
      */
      this.user = User.deserialize();

      /**
       * Token.
       * @type {Object}
       */
      this.token = Token.deserialize();

      /**
       * Resource
       */
      this.resource = Resource.deserialize();


      if(this.user === null &amp;&amp; this.token ||
        (!_.isEmpty(this.user) &amp;&amp; !_.isEmpty(this.user.token) &amp;&amp; !_.isEmpty(this.token) &amp;&amp; this.user.token !== this.token.value)
      )
      {
        this.getUser();
      }

      if(this.user !== null &amp;&amp; _.isEmpty(this.token))
      {
        this.logout();
      }

      /**
       * reload resource
       */
      if(!this.resource &amp;&amp; this.token)
      {
        this.getResource();
      }

      /**
         * Client instance to Manipulate with API.
         * @link WallkitClient
         * @type {WallkitClient}
         */
        this.client = client;
        /**
         * Wallkit Config instance.
         * @type {Object}
         */
        this.config = Config;

        this.initListener();

        return this.initialized = true;
    }

    /**
     * Method handle Event Listeners callback.
     *
     * @private
     * @return void
     *
     * @ignore
     */
    listener(event) {

      //console.log(&quot;event:::&quot;, event);

        /*if (typeof event.data.type !== &quot;undefined&quot;) {
            switch (event.data.type) {
                case &quot;wk_token&quot;:
                    this.log(&quot;wk_token: &quot; + event.data.data);
                    this.authUserByToken(event.data.data);
                    break;
                case &quot;authorizationUser&quot;:
                    this.log(&quot;authorizationUser: &quot; + event.data);

                    this.log(event.data);

                    if (event.data.token) {
                        this.authUserByToken(event.data.token, &quot;authorizationUser&quot;);
                    }
                    break;
                case &quot;registrationUser&quot;:
                    this.log(&quot;registrationUser: &quot; + event.data);
                    if (event.data.token) {
                        this.authUserByToken(event.data.token, &quot;registrationUser&quot;, event.data);
                    }
                    break;
                default:
                    console.log(&quot;default&quot;);
            }
        }*/
    }

    /**
     * Method init Event Listeners for messages.
     *
     * @private
     * @return void
     *
     * @ignore
     */
    initListener() {
        if (window.addEventListener) {
            window.addEventListener(&quot;message&quot;, this.listener.bind(this));
        } else {
            // IE8
            window.attachEvent(&quot;onmessage&quot;, this.listener.bind(this));
        }
    }

    /**
     * Method sets token.
     *
     * @public
     * @param {string} token - user token
     * @return void
     */
    setToken(token) {
        this.token = new Token({value: token});
        this.token.serialize();
    }

  /**
   * Returns token object, where value is token.
   *
   * @public
   * @returns {null}
   */
  getToken() {
      if(!_.isEmpty(this.token) &amp;&amp; !_.isEmpty(this.user.token))
      {
        return this.user.token;
      }
      return null;
    }

    /**
     * Method checks is user authenticated.
     *
     * @public
     * @return {Boolean}
     *
     * @example
     * Wallkit.isAuthenticated();
     */
    isAuthenticated() {
        return !!(this.user &amp;&amp; this.token);
    }

    /**
     * Method init user by inited token.
     *
     * @public
     * @return {Promise} returns promise with user object
     *
     * @example
     * const token = &apos;f96b2464-1ec2-4a1b-8c83-1b3aadb1fbb6&apos;;
     *
     * Wallkit.setToken(token);
     *
     * Wallkit.checkAuth().then((user) =&gt; {
     *      console.log(&apos;USER:&apos;, user);
     *   }, (error) =&gt; {
     *      console.log(&apos;ERROR:&apos;, error);
     *   });
     */
    checkAuth() {
        if (!this.token)
            throw new Error(&apos;Unauthorized&apos;);

        return client.get({path: &apos;/user&apos;})
            .then(user =&gt; {
                this.user = new User(user);
                this.user.serialize();
                return this.user
            });
    }

    /**
     * Method register user in Wallkit. After success authorization, method initializes token &amp; user instances. Returns Promise with received user object.
     *
     * @public
     * @param {object} data - user information
     * @return {Promise} returns promise with user object
     *
     * @example
     * Wallkit.signUp();
     */
    registration(data) {
        return client.post({path: &apos;/registration&apos;, data})
            .then(response =&gt; {
                //this.token = new Token({value: response.token});
                this.token = new Token({value: response.token, refresh: response.refresh_token, expire:response.expires});
                this.token.serialize();

                this.user = new User(response);
                this.user.serialize();

                return this.user;
            })
    }

    /**
     * Method loging user in Wallkit. After success authorization, method initializes token &amp; user instances. Returns Promise with received user object.
     *
     * @public
     * @param {object} data
     * @param {object} data.email - user email
     * @param {object} data.password - user password
     * @return {Promise} returns promise with user object
     *
     * @example
     *let user = {
     *   email: &apos;dev@grandiz.com&apos;,
     *   password: &apos;123456&apos;
     *};
     *
     *Wallkit.login(user)
     *   .then((user) =&gt; {
     *      console.log(&quot;after login&quot;, user);
     *      Wallkit.checkAuth().then(user =&gt; {
     *          console.log(&quot;after checkAuth&quot;, user);
     *      }).catch(error =&gt; {
     *          console.log(error);
     *      });
     *   }, (error) =&gt; {
     *      console.log(&apos;error:&apos;, error);
     *   });
     *
     */
    login(data) {
        this.token = null;
        this.user = null;

        localStorage.removeItem(User.storageKey);
        // Cookies.removeItem(&apos;pw_token&apos;);

        return client.post({path: &apos;/authorization&apos;, data})
            .then(response =&gt; {
                //this.token = new Token({value: response.token});
              this.token = new Token({value: response.token, refresh: response.refresh_token, expire:response.expires});

              this.token.serialize();

                this.user = new User(response);
                this.user.serialize();

                return this.user;
            })
    }

    /**
     * Method logout user from Wallkit. After success response, method removes token &amp; user instances.  Removes cookies &amp; localstorage datas.
     *
     * @public
     * @return {Promise} returns Promise
     *
     * @example
     * Wallkit.logout().then(() =&gt; {
     *   alert(&apos;User has logged&apos;);
     * });
     */
    logout() {
      Event.send(&quot;wk-event-logout&quot;, true);
      this.user = null;
      if(this.token)
      {
        return client.get({path: &apos;/logout&apos;})
          .then(result =&gt; {
            this.token = null;
            localStorage.removeItem(User.storageKey);
            localStorage.removeItem(Resource.storageKey);
            Cookies.removeItem(&apos;wk-token&apos;);
          })
      }
      else
      {
        this.token = null;
        localStorage.removeItem(User.storageKey);
        localStorage.removeItem(Resource.storageKey);
        Cookies.removeItem(&apos;wk-token&apos;);
      }

      Cookies.removeItem(&apos;wk-refresh&apos;);
    }

    /**
     * Method inits custom event
     *
     * @private
     * @param {string} event - event name
     * @param {object} params
     * @param {boolean} params.bubbles - event bubble
     * @param {boolean} params.cancelable - if event cancelable
     * @param {object} params.detail - other event details
     * @return {Event} returns event instance
     *
     * @example
     * new this.CustomEvent(eventName + &quot;:success&quot;, { bubbles: false, cancelable: false, detail: data })
     */
    /*CustomEvent(event, params) {
      params = params || { bubbles: false, cancelable: false, detail: undefined };

      var evt = document.createEvent( &apos;CustomEvent&apos; );
      evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );

      return evt;
    }*/

    getUser() {
      return User.reload()
        .then(user =&gt; {
          this.user = new User(user);
          this.user.serialize();
          return this.user
        })
        .catch(e =&gt; {
          return Promise.reject(e.response);
        })
    }


  /**
   * Method authenticate user by provided token and auth method type(authorizationUser/registrationUser).
   * @param token
   * @returns {Promise&lt;any&gt;}
   */
  authUserByToken(token) {

        if(!token)
        {
          throw new Error(&apos;Incorrect token&apos;);
        }
        else
        {
            this.token = new Token({value: token});
            this.token.serialize();
        }

        return this.getUser()
          .then(user =&gt; {
            this.getResource();
            return user
          });
    }

  /**
   * Gets Wallkit&apos;s client resource such as `public_key`, `origin`, `payments_in_live_mode`, `stripe_public_key`.
   *
   * @return {Promise}
   */
  getResource() {
    return Resource.reload()
      .then(resource =&gt; {
        this.resource = new Resource(resource);
        this.resource.serialize();

        Event.send(&quot;wk-event-resource&quot;, resource);

        return this.resource
      })
      .catch(e =&gt; {
        console.error(&quot;ERROR:&quot;, e);
        new Error(&quot;Resource not configured&quot;);
      })
  }

  /**
   * Returns promise with resources object which includes resources array.
   *
   * @returns {Promise&lt;any&gt;}
   */
  getResources() {
    return this.client.get({path: &apos;/resources&apos;})
      .then(response =&gt; {
        Event.send(&quot;wk-event-resources&quot;, response);
        return response;
      })
  }

  /**
   * Reset password by user email.
   *
   * @param {string | object} data - user email
   * @returns {Promise&lt;any&gt;}
   */
  passwordReset(data) {

      if(typeof data !== &quot;object&quot;)
      {
        data = {email: data}
      }
      return this.client.post({path: &apos;/reset-password&apos;, data: data})
        .then(response =&gt; {
          Event.send(&quot;wk-event-reset-password&quot;, response);
          return response;
        })
  }

  /**
   * Get available subscription for payment
   *
   * @returns {Promise&lt;any&gt;}
   */
  getSubscriptions() {
      return this.client.get({path: &apos;/subscriptions&apos;})
        .then(response =&gt; {
          Event.send(&quot;wk-event-subscriptions&quot;, response);
          return response;
        })
  }

  /**
   *
   * @returns {Promise&lt;any&gt;}
   */
  /*getSubscriptions() {
    console.log(&quot;getSubscriptions&quot;);
    return this.client.get({path: &apos;/user/subscriptions&apos;})
      .then(response =&gt; {
        Event.send(&quot;wk-event-user-subscriptions&quot;, response);
      })
  }*/

  /**
   *
   * @param data
   * @returns {Promise&lt;any&gt;}
   */
  calculatePrice(data) {
    return this.client.post({path: &apos;/payment/calculate-price&apos;, data: data})
      .then(response =&gt; {
        Event.send(&quot;wk-event-calculate-price&quot;, response);
        return response;
      })
  }

  /**
   *
   * @param data
   * @returns {Promise&lt;any&gt;}
   */
  checkOut(data) {
    return this.client.post({path: &apos;/payment&apos;, data: data})
      .then(response =&gt; {

        this.getUser();

        Event.send(&quot;wk-event-transaction&quot;, response);
        return response;
      })
  }

  /**
   *
   * @param data
   * @returns {Promise&lt;any&gt;}
   */
  validatePromo(data) {
    if(typeof data !== &quot;object&quot;)
    {
      data = {promo: data}
    }
    return this.client.post({path: &apos;/promo-validation&apos;, data: data})
      .then(response =&gt; {
        Event.send(&quot;wk-event-promo-validation&quot;, response);
        return response;
      })
  }

  /**
   *
   * @param transaction_id
   * @returns {Promise&lt;any&gt;}
   */
  getTransaction(transaction_id) {
    return this.client.get({path: &apos;/user/transactions/&apos; + transaction_id})
      .then(response =&gt; {
        //Event.send(&quot;wk-event-user-transaction&quot;, response);
        return response;
      })
  }

  /**
   *
   * @param data
   * @returns {Promise&lt;any&gt;}
   */
  updateUser(data) {
    return this.client.put({path: &apos;/user&apos;, data: data})
      .then(response =&gt; {
        this.user = new User(response);
        this.user.serialize();
        //Event.send(&quot;wk-event-user-update&quot;, response);
        return response;
      })
  }

  /**
   * request authorization/refresh
   */
  refreshToken(data) {
    if(!data)
    {
      data = this.token.refresh;
    }

    if(typeof data !== &quot;object&quot;)
    {
      data = {refresh_token: data}
    }
    return this.client.post({path: &apos;/authorization/refresh&apos;, data: data})
      .then(response =&gt; {
        if(!_.isEmpty(response.token))
        {
          this.token = new Token({value: response.token, refresh: response.refresh_token, expire:response.expires});
          this.token.serialize();
          Event.send(&quot;wk-event-token&quot;, response.token);
        }
        return response;
      })
  }

  /**
   *
   * @param data
   * @returns {Promise&lt;any&gt;}
   */
  updatePassword(data) {
    if(typeof data !== &quot;object&quot;)
    {
      data = {new_password: data}
    }
    return this.client.put({path: &apos;/user/password&apos;, data: data})
      .then(response =&gt; {
        Event.send(&quot;wk-event-update-password&quot;, response);
        return response;
      })
  }

  /**
   *
   * @param data
   * @returns {Promise&lt;any&gt;}
   */
  updateEmail(data) {
    if(typeof data !== &quot;object&quot;)
    {
      data = {email: data}
    }
    return this.client.put({path: &apos;/user/email&apos;, data: data})
      .then(response =&gt; {
        Event.send(&quot;wk-event-update-email&quot;, response);
        return response;
      })
  }

  /**
   *
   * @returns {Promise&lt;any&gt;}
   */
  suspendMe() {
    return this.client.post({path: &apos;/user/suspend&apos;})
      .then(response =&gt; {
        Event.send(&quot;wk-event-user-suspend&quot;, response);
        return response;
      })
  }

  /**
   *
   * @param data
   * @returns {Promise&lt;any&gt;}
   */
  confirmPassword(data) {
    if(typeof data !== &quot;object&quot;)
    {
      data = {code: data}
    }
    return this.client.post({path: &apos;/reset-password-validate&apos;, data: data})
      .then(response =&gt; {
        Event.send(&quot;wk-event-confirm-password&quot;, response);

        if(!_.isEmpty(response.token))
        {
          this.token = new Token({value: response.token, refresh: response.refresh_token, expire: response.expires});
          this.token.serialize();

          this.user = new User(response);
          this.user.serialize();
        }

        return response;
      })
  }

  /**
   *
   * @returns {Promise&lt;any&gt;}
   */
  resendEmailConfirmation() {
    return this.client.post({path: &apos;/resend-confirmation&apos;})
      .then(response =&gt; {
        Event.send(&quot;wk-event-resend-confirmation&quot;, response);
        return response;
      })
  }

  /**
   *
   * @param data
   * @returns {Promise&lt;any&gt;}
   */
  confirmEmail(data) {
    if(typeof data !== &quot;object&quot;)
    {
      data = {code: data}
    }
    return this.client.post({path: &apos;/confirm-email&apos;, data: data})
      .then(response =&gt; {
        Event.send(&quot;wk-event-email-confirm&quot;, response);
        return response;
      })
  }

  /**
   *
   * @param card_id
   * @returns {Promise&lt;any&gt;}
   */
  removeCard(card_id) {
    return this.client.del({path: &apos;/user/card/&apos;+card_id})
      .then(response =&gt; {
        Event.send(&quot;wk-event-remove-card&quot;, response);
        return response;
      })
  }

  /**
   *
   * @returns {Promise&lt;any&gt;}
   */
  getCards() {
    return this.client.get({path: &apos;/user/cards&apos;})
      .then(response =&gt; {
        Event.send(&quot;wk-event-cards&quot;, response);
        return response;
      })
  }

  /**
   *
   * @param card_id
   * @returns {Promise&lt;any&gt;}
   */
  defaultCard(card_id) {
    return this.client.post({path: &apos;/user/card/&apos;+card_id+&apos;/default&apos;})
      .then(response =&gt; {
        Event.send(&quot;wk-event-default-card&quot;, response);
        return response;
      })
  }

  /**
   *
   * @returns {Promise&lt;any&gt;}
   */
  getCountries() {
    return this.client.get({path: &apos;/countries&apos;})
      .then(response =&gt; {
        Event.send(&quot;wk-event-countries&quot;, response);
        return response;
      })
  }

  /**
   *
   * @returns {Promise&lt;any&gt;}
   */
  getCurrencies() {
    return this.client.get({path: &apos;/currency&apos;})
      .then(response =&gt; {
        Event.send(&quot;wk-event-currency&quot;, response);
        return response;
      })
  }

  /**
   *
   * @param data
   * @returns {Promise&lt;any&gt;}
   */
  validateInvite(data) {
    if(typeof data !== &quot;object&quot;)
    {
      data = {invite: data}
    }
    return this.client.post({path: &apos;/invite-validation&apos;, data: data})
      .then(response =&gt; {
        Event.send(&quot;wk-event-invite-validation&quot;, response);
        return response;
      })
  }

  /**
   *
   * @returns {Promise&lt;any&gt;}
   */
  activateInvite(data) {
    if(typeof data !== &quot;object&quot;)
    {
      data = {invite: data}
    }
    return this.client.post({path: &apos;/invite-activation&apos;, data: data})
      .then(response =&gt; {
        Event.send(&quot;wk-event-invite-activation&quot;, response);
        return response;
      })
  }

  /**
   *
   * @param data
   * @returns {Promise&lt;any&gt;}
   */
  createStripeByToken(data) {
    if(typeof data !== &quot;object&quot;)
    {
      data = {token: data}
    }
    return this.client.post({path: &apos;/user/stripe/token&apos;, data: data})
      .then(response =&gt; {
        Event.send(&quot;wk-event-stripe-token&quot;, response);
        return response;
      })
  }

}

let instance = new Wallkit();

/**
 * @ignore
 */
export default instance;
</code></pre></div><footer class="main-footer"><img alt="esdoc logo" class="esdoc-logo" src="image/esdoc-logo-mini.png"> <span>Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span></a></span></footer></main><aside class="sidebar initial js_sidebarLeft sidebar-left" data-ice="nav"><nav class="nav"><ul class="nav-list"><li class="nav-item js_navItem _" data-ice="doc"><div class="hidden fake-nav-link js_fakeLink _"><span class="kind _kind-class" data-ice="kind">C</span> <span class="name _" data-ice="name"><span><a href="class/Wallkit/Wallkit.js~Wallkit.html">Wallkit</a></span></span></div></li>
<li class="nav-item js_navItem _" data-ice="doc"><div class="hidden fake-nav-link js_fakeLink _"><span class="kind _kind-class" data-ice="kind">C</span> <span class="name _" data-ice="name"><span><a href="class/Wallkit/WallkitClient.js~WallkitClient.html">WallkitClient</a></span></span></div></li>
<li class="nav-item js_navItem _" data-ice="doc"><div class="hidden fake-nav-link js_fakeLink _"><span class="kind _kind-class" data-ice="kind">C</span> <span class="name _" data-ice="name"><span><a href="class/Wallkit/WallkitResource.js~WallkitResource.html">WallkitResource</a></span></span></div></li>
<li class="nav-item js_navItem _" data-ice="doc"><div class="hidden fake-nav-link js_fakeLink _"><span class="kind _kind-class" data-ice="kind">C</span> <span class="name _" data-ice="name"><span><a href="class/Wallkit/WallkitToken.js~WallkitToken.html">WallkitToken</a></span></span></div></li>
<li class="nav-item js_navItem _" data-ice="doc"><div class="hidden fake-nav-link js_fakeLink _"><span class="kind _kind-class" data-ice="kind">C</span> <span class="name _" data-ice="name"><span><a href="class/Wallkit/WallkitUser.js~WallkitUser.html">WallkitUser</a></span></span></div></li>
</ul></nav></aside><aside class="sidebar closed js_sidebarRight sidebar-right"><nav class="nav fonts-nav"><ul class="nav-list js_fontOptions"><li class="nav-item"><span class="headline nav-link">Main fonts</span></li></ul></nav><nav class="nav colorschemes-nav"><ul class="nav-list js_colorschemeOptions"><li class="nav-item"><span class="headline nav-link">Syntax themes</span></li></ul></nav></aside><script src="script/2f0514c18c642778d627.js"></script></body></html>